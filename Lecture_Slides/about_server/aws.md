# AWSについての備忘録
## インフラの主な形態
### 種類について
主に2つに分けられる。一つはクラウドで、もう一つはオンプレミスというもの

### クラウドとは
クラウドサービスプラットフォームからインターネット経由でコンピューティング、データベース、ストレージ、アプリケーションをはじめとした、さまざまな IT リソースをオンデマンドで利用することができるサービスの総称で、必要なときに必要な量のリソース(メモリとか)へ簡単にアクセスできる。主に三種類あって、herokuみたいなPaaSや、他にはIaaS(Infrastructure as a Service)やSaaS(Software as a Service)などがある

### オンプレミスとは
クラウドとは対極の概念。IT システムを構築する際に、サーバーやネットワーク機器を購入(リース契約など)して、自社の建物内に設置・運用していくスタイル。

### クラウドのメリット
- オンプレミスだとリソースの割り振りが固定だけど、クラウドであれば柔軟に拡張・縮小が可能
- インフラの調達にオンプレミスだと時間かかるけど、クラウドだとアカウント登録後すぐに利用可能
- 障害対応を行うのはクラウドサービスを提供している業者になるので、コストを抑えられる

### クラウドのデメリット
- 自前ではないので、クラウドサービスごとで若干の制約がある
- 同一のネットワーク内で試行錯誤はできない

## AWSについて
### AWSとは
クラウドサービスの筆頭と言えるサービス。サーバはEC2、ネットワークはVPCというサービスで構築することが可能。今回は主にAWSのIaaSについての話をしていく。AWSはAmazon Web Serverの略じゃなくて、Amazon Web Serviceの略

### EC2とは
仮想マシン(仮想サーバ、インスタンスとも呼ばれる)を用意するためのサービス。用途によって最適化されたインスタンスタイプが用意されている。例えば、計算に特化したC系や汎用タイプのM系がある。EC2はECC(Elastic Computer Cotrol)の略。ECCのほうがわかりやすい。

### VPCとは
AWS専用の仮想ネットワーク。ルータやゲートウェイなどのネットワーク機器を仮想的に用意しネットワーク環境を構築できるサービス。Virtual Private Cloudの略。

### リージョンとは
AWSにはリージョンと呼ばれるAWSの拠点があって、EC2とVPCを利用するときにはリージョンを選ぶ必要がある。距離が離れているほど通信に時間がかかるため、サービスを提供する地域に合わせてリージョンを決定する。選ぶリージョンによって利用料金は変わる。地域に紐づくデータセンターのこと。

### AZ(Availability Zone)とは
リージョン内にある物理的に離れた個々のデータセンターのこと。1つのリージョンに複数のそれぞれ独立したデータセンターがあり、このデータセンターを「アベイラビリティーゾーン」という。またAZのことをロケーションとも呼ぶ(よく使う)。

## VPC
### 基本的な構成
VPCには様々なコンポーネントが含まれていて、それらを組み合わせることで、自由にネットワーク環境を構築できる。
<img src="https://i1.wp.com/avinton.com/wp-content/uploads/2018/02/aws-components.png?resize=514%2C274&ssl=1">  

- IGW(Internet GateWay)  
VPCをインターネットに接続できるようにするコンポーネント  
- Subnet  
VPCという大きなネットワークの中に小さいネットワーク(サブネット)の集まりを作ることができるコンポーネント  
- Route table  
ネットワークの経路を設定するコンポーネント。サブネット内の通信がどの宛先のネットワークに対して、どのコンポーネント（IGWとかEC2とか）に転送されて欲しいかを設定する。  
- Elastic IP  
EC2のインスタンスに対して固定IPを割り当てるコンポーネント  
- NGW(NAT GateWay)  
NAT(Network Address Translation)とはプライベートIPをグローバルIPに変換するもので、この変換を行うためのコンポーネント  

## 実際の構築イメージ
以下のページがすごい参考になる  
[Avinton Japan](https://avinton.com/academy/aws/)

## 次回やること
[Managed Cloud with AWS](https://www.bit-drive.ne.jp/managed-cloud/column/column_07.html)
## 参考・引用
[Amazon](https://aws.amazon.com/jp/cloud/)  
[Avinton Japan](https://avinton.com/academy/aws/)
